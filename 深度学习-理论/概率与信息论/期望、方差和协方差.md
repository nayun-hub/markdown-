# 期望、方差和协方差

函数f(x)关于某分布P(x)的**期望**(expectation)或者**期望值**(expected value)是指：当x由P产生，f作用于x时，f(x)的平均值。

对于离散型随机变量，可以通过求和得到：

$$
E_{x\sim P}[f(x)]=\sum_{x}P(x)f(x)
$$

对于连续型随机变量，可以通过积分得到：

$$
E_{x\sim P}[f(x)]=\int p(x)f(x)dx
$$

**方差**(variance)衡量的是当我们对x一句它的概率分布进行采样时，随机变量x的函数值会呈现多大的差异：

$$
Var(f(x))=E[(f(x)-E[f(x)])^2]
$$

当方差很小是，f(x)的值形成的簇比较接近他们的期望值。方差的平方根称为**标准差**(standard deviation)。

**协方差**(covariance)在某种意义上给出了两个变量线性相关性的强度以及这些变量的尺度:

$$
Cov(f(x),g(y))=E[(f(x)-E[f(x)])(g(y)-E[g(y)])]
$$

协方差的绝对值如果很大则意味着变量值变化很大并且它们同时距离各自的均值很远。如果协方差为正，那么两个变量都倾向于同时取得相对较大的值。如果协方差为负，那么其中一个变量倾向于取得相对较大的值同时另一个变量倾向于取得相对较小的值。

协方差和相关性是不同的概念。

联系：两个变量如果相互独立那么它们的协方差为0，如果两个变量的协方差不为0那么它们一定相关的。两个变量如果协方差为0，它们之间一定没有线性关系。

不同：独立性比零协方差的要求更强，独立性还排除了非线性关系。

随机向量 $x\in R^n$ 的**协方差矩阵**(covariance matrix)是一个 $n\times n$ 的矩阵，并且满足

$$
Cov(x)_{i,j}=Cov(x_i,x_j)
$$

协方差矩阵的对角元是方差:

$$
Con(x_i,x_j)=Var(x_i)
$$

